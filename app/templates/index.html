{% extends "base.html" %}

{% block content %}
<h1>Echo</h1>

{# Экран/санитайз: автоэкранирование Jinja2 + явный |e.
default('', true) -> если message пуст/None, выводим пустую строку. #}
<div id="message">{{ message | default('', true) | e }}</div>

<p>Попробуйте:</p>
<ul>
    <li>
        Как строку (HTML-экранировано):
        <code>/echo?msg=&lt;script&gt;alert(1)&lt;/script&gt;</code>
    </li>
    <li>
        Как корректно URL-кодированный параметр:
        <code>/echo?msg=%3Cscript%3Ealert(1)%3C/script%3E</code>
    </li>
</ul>
{% endblock %}
